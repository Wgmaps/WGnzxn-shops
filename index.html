<html><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>WG 興楠店特約商家優惠地圖</title>
<link href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" rel="stylesheet"/>
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<link href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" rel="stylesheet"/>
<style>
  body {
    margin: 0;
    font-family: "Arial", sans-serif;
    background-color: #fffafc;
  }
  #map {
    width: 100%;
    height: 90vh;
  }
  .title {
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    margin-top: 20px;
    color: #e60039;
  }
  .button-group {
    display: flex;
    justify-content: center;
    margin: 10px 0;
    gap: 10px;
  }
  .button-link {
    display: inline-block;
    padding: 8px 14px;
    border-radius: 20px;
    font-size: 14px;
    text-decoration: none;
    font-weight: bold;
    box-shadow: 1px 1px 4px rgba(0,0,0,0.1);
  }
  .ig {
    background-color: #fcd6e2;
    color: #d63384;
  }
  .line {
    background-color: #d3f9d8;
    color: #2b8a3e;
  }
</style>
</head><body><div class="title">🦍🌍 WG 興楠店優惠地圖 💰</div><div class="button-group"><a class="button-link ig" href="https://www.instagram.com/worldgym_nzxn?utm_source=ig_web_button_share_sheet&amp;igsh=ZDNlZDc0MzIxNw==">追蹤我們 IG：@worldgym_nzxn</a><a class="button-link line" href="https://lin.ee/ZLH7DRI">加入我們 LINE 官方帳號</a></div><div id="map"></div><script>
var map = L.map('map').setView([22.6302, 120.3014], 13);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  attribution: '© OpenStreetMap'
}).addTo(map);

L.Control.geocoder().addTo(map);

// 讀取 shops.json
fetch('shops.json')
  .then(response => response.json())
  .then(data => {
    data.features.forEach(shop => {
      const coords = shop.geometry.coordinates;
      const props = shop.properties;
      if (coords.length === 2) {
        const marker = L.marker([coords[1], coords[0]], {
          icon: L.icon({
            iconUrl: 'icons/cute_marker.png',
            iconSize: [36, 36],
            iconAnchor: [18, 36],
            popupAnchor: [0, -36]
          })
        }).addTo(map);
        marker.bindPopup(`<b>${props.emoji || ''} ${props.name}</b><br>${props.note || ''}`);
      }
    });
  });
</script></body></html>